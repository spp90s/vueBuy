<template>
    <div>
        <div class="section">
            <div class="location">
                <span>ÂΩìÂâç‰ΩçÁΩÆÔºö</span>
                <a href="#/" class="router-link-active">È¶ñÈ°µ</a> &gt;
                <a href="#/site/goodslist" class="router-link-exact-active router-link-active">Ë¥≠Áâ©ÂïÜÂüé</a>
            </div>
        </div>
        <!-- È°∂ÈÉ®Âå∫ÂüüÔºàÂ∑¶‰æßÂàÜÁ±ªÂàóË°®„ÄÅËΩÆÊí≠Âõæ„ÄÅÁÉ≠ÂçñÔºâ -->
        <div class="section">
            <div class="wrapper">
                <div class="wrap-box">
                    <!-- Âæ™ÁéØÁîüÊàêÂàÜÁ±ªÂå∫Âüü -->
                    <div class="left-220" style="margin: 0px;">
                        <div class="banner-nav">
                            <ul>
                                <li v-for="(item, index) in catelist" :key="item.id">
                                    <h3>
                                        <i class="iconfont icon-arrow-right"></i>
                                        <span>{{item.title}}</span>
                                        <p>
                                            <span v-for="(subItem, subIndex) in item.subcates" :key="subItem.id">{{subItem.title}}&nbsp;</span>
                                            <!-- <span>ÊëÑÂΩ±ÊëÑÂÉè&nbsp;</span> -->
                                            <!-- <span>Â≠òÂÇ®ËÆæÂ§á&nbsp;</span> -->
                                        </p>
                                    </h3>
                                    <div class="item-box">
                                        <dl>
                                            <dt>
                                                    <a href="/goods/40.html">{{item.title}}</a>
                                                </dt>
                                            <dd>
                                                <a v-for="(subItem, sinIndex) in item.subcates" :key="subItem.id" href="/goods/43.html">{{subItem.title}}</a>
                                                <!-- <a href="/goods/43.html">ÊëÑÂΩ±ÊëÑÂÉè</a> -->
                                                <!-- <a href="/goods/43.html">Â≠òÂÇ®ËÆæÂ§á</a> -->
                                            </dd>
                                        </dl>
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!--ÂπªÁÅØÁâá ËΩÆÊí≠Âõæ -->
                    <div class="left-705">
                        <div class="banner-img">
                            <div id="focus-box" class="focus-box">
                                <!-- element-uiÁöÑËµ∞È©¨ÁÅØÁªÑ‰ª∂ -->
                                <el-carousel height="341px">
                                    <el-carousel-item v-for="item in sliderlist" :key="item.id">
                                        <!-- <h3>{{ item }}</h3> -->
                                        <a href="#">
                                            <img style="display: block; height: 100%" :src="item.img_url" alt="">
                                        </a>
                                    </el-carousel-item>
                                </el-carousel>
                            </div>
                        </div>
                    </div>
                    <!--/ÂπªÁÅØÁâá ÁÉ≠Âçñ -->
                    <div class="left-220">
                        <ul class="side-img-list">
                            <li v-for="(item, index) in toplist" :key="item.id">
                                <div class="img-box">
                                    <label>{{index+1}}</label>
                                    <img :src="item.img_url">
                                </div>
                                <div class="txt-box">
                                    <a href="/goods/show-98.html">{{item.title}}</a>
                                    <!-- ËØ∑Ê±ÇÂõûÊù•ÁöÑÊï∞ÊçÆ‰∏≠Êó•ÊúüÊ†ºÂºèÈúÄË¶ÅvueËøáÊª§Âô®Â§ÑÁêÜ‰∏Ä‰∏ãÔºàÂèåËä±Êã¨Âè∑ÊèíÂÄºÔºâÔºåÂÜçËµãÂÄºÁªôÁªÑ‰ª∂ -->
                                    <span>{{item.add_time | beautifyTime}}</span>
                                    <!-- ËøáÊª§Âô®ÊòØ JavaScript ÂáΩÊï∞ÔºåÂõ†Ê≠§ÂèØ‰ª•Êé•Êî∂ÂèÇÊï∞ -->
                                    <!-- <span>{{item.add_time | beautifyTime('üêÆ', 'üöÄ', 'üõ∏')}}</span> -->
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <!-- Âæ™ÁéØÁîüÊàêÂ∫ïÈÉ®Âå∫ÂüüÔºàÊâãÊú∫Êï∞Á†Å„ÄÅÁîµËÑëÂäûÂÖ¨„ÄÅÂΩ±Èü≥Â®±‰πê„ÄÅÊúçË£ÖÁ±ªÔºâ -->
        <div class="section" v-for="(item, index) in orderList" :key="item.level1cateid">
            <div class="main-tit">
                <h2>{{item.catetitle}}</h2>
                <p>
                    <a v-for="(level2Item, level2Index) in item.level2catelist" :key="level2Item.subcateid" href="/goods/43.html">{{level2Item.subcatetitle}}</a>
                    <!-- <a href="/goods/43.html">ÊëÑÂΩ±ÊëÑÂÉè</a> -->
                    <a href="/goods/40.html">Êõ¥Â§ö<i>+</i></a>
                </p>
            </div>
            <div class="wrapper clearfix">
                <div class="wrap-box">
                    <ul class="img-list">
                        <li v-for="(datasItem, dataIndex) in item.datas" :key="datasItem.artID">
                            <!-- <a href="#/site/goodsinfo/87" class=""> -->
                            <!-- Âõ†‰∏∫ÊòØÂä®ÊÄÅË∑ØÁî±ÂåπÈÖçÔºåÈúÄË¶Åv-bind:to -->
                            <router-link :to="'/detail/' + datasItem.artID">
                                <div class="img-box">
                                    <!-- <img :src="datasItem.img_url"> -->
                                    <!-- ‰ΩøÁî®ÊáíÂä†ËΩΩÁöÑÊåá‰ª§ -->
                                    <img v-lazy="datasItem.img_url" >
                                </div>
                                <div class="info">
                                    <h3>{{datasItem.artTitle}}</h3>
                                    <p class="price">
                                        <b>{{datasItem.sell_price}}</b>ÂÖÉ</p>
                                    <p>
                                        <strong>Â∫ìÂ≠ò {{datasItem.stock_quantity}}</strong>
                                        <span>Â∏ÇÂú∫‰ª∑Ôºö
                                            <s>{{datasItem.market_price}}</s>
                                            </span>
                                    </p>
                                </div>
                            </router-link>
                            <!-- </a> -->
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
    // Âú®Âì™Áî®ÔºåÂ∞±Âú®Âì™ÂÑøÂØºÂÖ•axios
    // import axios from "axios";
    // ÂØºÂÖ•axiosÊäΩÂèñÂà∞ÂÖ®Â±Ä ËøÅÁßªÂà∞main.js‰∏≠Ôºå‰∏∫‰∫ÜËÆ©ÂÖ®Â±Ä‰ΩøÁî®

    // ÂèëËØ∑Ê±ÇÔºåËé∑ÂèñÊï∞ÊçÆ
    // axios.get('http://111.230.232.110:8899/site/goods/gettopdata/goods').then(response => {
    //     console.log(response);
    //     // ËÆæÁΩÆÁªôÁªÑ‰ª∂‰∏≠ÁöÑdata‰∏≠ÁöÑÊï∞ÊçÆ
    //     console.log(this);  //undefined ËØ¥ÊòéÂÜôÂú®ËøôÈáåÁöÑaxiosÁöÑÂõûË∞ÉÂáΩÊï∞ÈáåÊãø‰∏çÂà∞ÂΩìÂâçËøô‰∏™indexÁªÑ‰ª∂
    // })

    // ÂØºÂÖ•moment.js
    // import moment from "moment"; //ËøÅÁßªÂà∞main.js‰∏≠
    
    // Á±ª‰ºº‰∫émodule.exports
    export default {
        name: "index",
        data: function() {
            return {
                // message: 'haha'
                // ÂàÜÁ±ªÂàóË°®
                catelist: [],
                // ËΩÆÊí≠Âõæ
                sliderlist: [],
                // ÁÉ≠ÂçñÂàóË°®
                toplist: [],

                // Â∫ïÈÉ®ÂàÜÁ±ªÂàóË°®
                orderList: []
            };
        },
        // Âú®‰∏Ä‰∏™ÁªÑ‰ª∂ÁöÑÈÄâÈ°π‰∏≠ÂÆö‰πâÊú¨Âú∞ÁöÑËøáÊª§Âô®ÔºàÂ±ÄÈÉ®Ôºâ
        // filters: {
        //     beautifyTime: function(value, para2, para3, para4) {
        //         console.log(para2);
        //         console.log(para3);
        //         console.log(para4);
        //         // Â§ÑÁêÜ‰πãÂâçÔºåÁ¨¨‰∏Ä‰∏™ÂèÇÊï∞valueÂ∞±ÊòØÊé•Êî∂Ë¶ÅËøáÊª§ÁöÑÂÄºÔºåÂç≥Ê®°ÊùøÂèåËä±Êã¨Âè∑ÊèíÂÄº‰∏≠ | ÂâçÈù¢ÂÜôË¶ÅËøáÊª§ÁöÑÊï∞ÊçÆ
        //         // if (!value) return ''
        //         // value = value.toString()
        //         console.log(value);
        //         // ËøîÂõûÂ§ÑÁêÜ‰πãÂêéÁöÑvalue
        //         // return value.charAt(0).toUpperCase() + value.slice(1)
        //         // return 'üêñüêñüêñüêñ';
        //         // ÈúÄË¶ÅÁî®moment.jsÊù•Ê†ºÂºèÂåñÊó•ÊúüÔºåÂÜçËøîÂõû
        //         // return moment(value).format("YYYYÂπ¥MMÊúàDDÊó•");
        //         return moment(value).format(`YYYY${para2}MM${para3}DD${para4}`);
        //     }
        // },
        // methods: {
        //     // ÈúÄË¶ÅÊâãÂä®Ë∞ÉÁî®
        // },
        // computed: {
        //     // ÈúÄË¶ÅÈ°µÈù¢Âéª{ÊåñÂùë}
        // }
        // ‰∏äÈù¢‰∏§ÁßçÊñπÂºèÈÉΩ‰∏çÂ•ΩÔºåÁîüÂëΩÂë®ÊúüÈí©Â≠êÔºàÁîüÂëΩÂë®ÊúüÈí©Â≠êÁöÑ this ‰∏ä‰∏ãÊñáÊåáÂêëË∞ÉÁî®ÂÆÉÁöÑ Vue ÂÆû‰æãÔºâ
        beforeCreate() {
            // ÂàõÂª∫VueÂÆû‰æã‰πãÂâç
            console.log("beforeCreate");
            // console.log(this.message);
        },
        created() {
            // ÂàõÂª∫VueÂÆû‰æãÂÆåÊØïÔºàVueÂÆû‰æãÂàõÂª∫ÂÆåÊØïÊâçÂèØ‰ª•ËÆøÈóÆÂà∞vueÁªÑ‰ª∂‰∏≠ÁöÑÂÜÖÂÆπÔºâ
            console.log("created");
            // console.log(this.message);

            // ÂèëËØ∑Ê±ÇÔºåËé∑ÂèñÈ°∂ÈÉ®Êï∞ÊçÆ
            this.$axios
                .get("site/goods/gettopdata/goods")
                .then(response => {
                    // console.log(response);
                    // ËÆæÁΩÆÁªôÁªÑ‰ª∂‰∏≠ÁöÑdata‰∏≠ÁöÑÊï∞ÊçÆ
                    console.log(this); //VueComponent ËØ¥ÊòéÂÜôÂú®ËøôÈáåÁöÑaxiosÁöÑÂõûË∞ÉÂáΩÊï∞ÈáåÊãøÂà∞‰∫ÜÂΩìÂâçËøô‰∏™indexÁªÑ‰ª∂
                    this.catelist = response.data.message.catelist;
                    this.sliderlist = response.data.message.sliderlist;
                    // ËØ∑Ê±ÇÂõûÊù•ÁöÑÊï∞ÊçÆ‰∏≠Êó•ÊúüÊ†ºÂºèÈúÄË¶ÅVueËøáÊª§Âô®filtersÂ§ÑÁêÜ‰∏Ä‰∏ãÔºàÂèåËä±Êã¨Âè∑ÊèíÂÄºÔºâÔºåÂú®ËµãÂÄºÁªôÁªÑ‰ª∂
                    this.toplist = response.data.message.toplist;
                });
            // ÂèëËØ∑Ê±ÇÔºåËé∑ÂèñÂ∫ïÈÉ®Êï∞ÊçÆ 
            this.$axios
                .get('site/goods/getgoodsgroup')
                .then(response => {
                    // console.log(response);
                    // ËÆæÁΩÆÁªôÁªÑ‰ª∂‰∏≠ÁöÑdata‰∏≠ÁöÑÊï∞ÊçÆ
                    this.orderList =  response.data.message;
                    
                });
        },
    };
</script>

<style>

</style>